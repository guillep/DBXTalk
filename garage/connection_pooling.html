<!DOCTYPE html>
<html lang="en">
  <head profile="http://www.w3.org/2005/10/profile">
	<link rel="icon" 
      type="image/png" 
      href="/DBXTalk/images/favicon.png">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	
    <title>Garage</title>
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/DBXTalk/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/DBXTalk/stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/DBXTalk/stylesheets/print.css" media="print">
	<script src="/DBXTalk/highlight/highlight.pack.js"></script>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<style>
	/* Sticky footer styles
	-------------------------------------------------- */
	html {
	  position: relative;
	  min-height: 100%;
	}
	body {
	  /* Margin bottom by footer height */
	  margin-bottom: 60px;
	}
	.footer {
	  position: absolute;
	  bottom: 3px;
	  width: 100%;
	  /* Set the fixed height of the footer here */
	  height: 60px;
	}


	/* Custom page CSS
	-------------------------------------------------- */
	/* Not required for template or sticky footer method. */

	body > .container {
	  padding: 60px 15px 0;
	}
	.container .text-muted {
	  margin: 20px 0;
	}

	.footer > .container {
	  padding-right: 15px;
	  padding-left: 15px;
	}

	code {
	  font-size: 80%;
	}
	
	</style>
	<style>
	/*** Custom Navigation Bar Style
	**** Autogenerated
	****
	***/
	/*Generated from: http://work.smarchal.com/twbscolor/css/9787ef715beaecf0f1ecdbff0*/
	.navbar-default {
	  background-color: #9787ef;
	  border-color: #715bea;
	}
	.navbar-default .navbar-brand {
	  color: #ecf0f1;
	}
	.navbar-default .navbar-brand:hover, .navbar-default .navbar-brand:focus {
	  color: #ecdbff;
	}
	.navbar-default .navbar-text {
	  color: #ecf0f1;
	}
	.navbar-default .navbar-nav > li > a {
	  color: #ecf0f1;
	}
	.navbar-default .navbar-nav > li > a:hover, .navbar-default .navbar-nav > li > a:focus {
	  color: #ecdbff;
	}
	.navbar-default .navbar-nav > .active > a, .navbar-default .navbar-nav > .active > a:hover, .navbar-default .navbar-nav > .active > a:focus {
	  color: #ecdbff;
	  background-color: #715bea;
	}
	.navbar-default .navbar-nav > .open > a, .navbar-default .navbar-nav > .open > a:hover, .navbar-default .navbar-nav > .open > a:focus {
	  color: #ecdbff;
	  background-color: #715bea;
	}
	.navbar-default .navbar-toggle {
	  border-color: #715bea;
	}
	.navbar-default .navbar-toggle:hover, .navbar-default .navbar-toggle:focus {
	  background-color: #715bea;
	}
	.navbar-default .navbar-toggle .icon-bar {
	  background-color: #ecf0f1;
	}
	.navbar-default .navbar-collapse,
	.navbar-default .navbar-form {
	  border-color: #ecf0f1;
	}
	.navbar-default .navbar-link {
	  color: #ecf0f1;
	}
	.navbar-default .navbar-link:hover {
	  color: #ecdbff;
	}

	@media (max-width: 767px) {
	  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
	    color: #ecf0f1;
	  }
	  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
	    color: #ecdbff;
	  }
	  .navbar-default .navbar-nav .open .dropdown-menu > .active > a, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover, .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
	    color: #ecdbff;
	    background-color: #715bea;
	  }
	}
	</style>
  </head>
  
  <body style="padding-top:150px">
    <div class="container-fluid">
    	<div class="inner">
			<nav class="navbar navbar-default navbar-fixed-top">
			
	 		<header style="padding:10px;background-color:white;">
				<div style="width:700px;margin:0 auto;">
					<a href="/DBXTalk/" role="button">
			 			<img alt="dbxtalk" src="/DBXTalk/images/dbxtalk.png" style="height:100px;float:left;margin-right:10px">
					</a>
					<h1>dbxtalk</h1>
		 			<h2 style="margin:0px;">Pharo's relational database suite</h2>
				</div>
	 		</header>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="width:700px;margin:0 auto;">
				  <ul class="nav navbar-nav">
					
					<li role="presentation" id="Home" >
						<a href="/DBXTalk/index.html" 
							>
							Home
							
						</a>
						
					</li>
					
					<li role="presentation" id="Garage" class="dropdown">
						<a href="" 
							class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
							Garage
							<span class="caret"></span>
						</a>
						
						<ul class="dropdown-menu" role="menu">
							
							<li role="presentation"><a href="/DBXTalk/garage/index.html">Overview</a></li>
							
							<li role="presentation"><a href="/DBXTalk/garage/installation.html">Installation</a></li>
							
							<li role="presentation"><a href="/DBXTalk/garage/getting_started.html">Getting Started</a></li>
							
							<li role="presentation"><a href="/DBXTalk/garage/drivers.html">Supported Drivers</a></li>
							
							<li role="presentation"><a href="/DBXTalk/garage/documentation.html">Documentation</a></li>
							
						</ul>
						
					</li>
					
					<li role="presentation" id="Glorp" >
						<a href="/DBXTalk/glorp.html" 
							>
							Glorp
							
						</a>
						
					</li>
					
					<li role="presentation" id="Contribute" >
						<a href="/DBXTalk/contribute.html" 
							>
							Contribute
							
						</a>
						
					</li>
					
					<li role="presentation" id="Contact" >
						<a href="/DBXTalk/contact.html" 
							>
							Contact
							
						</a>
						
					</li>
					
					</ul>
				</div>
			</nav>
        <hr>

        <section id="main_content">
      	<h3>Garage Connection Pool</h3>
<p class="warning">This page is still under construction</p>
<p>The GAConnectionPool in the package Garage-ConnectionPool is a connection pool of GADriver connections. I create connections lazily as they are needed  in a batched way. If no more connections are available and I reached the maximum amount of alive connections, I try to purge connections and if not I throw an exception when a connection is demanded.</p>
<p>I have the following main properties:</p>
<ul><li> <strong>maxIdleConnections</strong>: the maximum amount of unused connections that I handle. Default: 20.</li><li> <strong>maxConnections</strong>: the maximum amount of connections I will keep alive in total (idle or not). Default: 20.</li><li> <strong>growSize</strong>: it specifies the amount of connections to be created when no more free connections are available. Default: 5.</li><li> <strong>validationBlock</strong>: a Block to specify an arbitrary expression to check if the connection is valid or not. A connection is considered not valid is the validation block throws an exception.</li></ul>
<p>This connection pool returns a GAPooledConnection, polymorphic to a GADriver. Upon close, the pooled connection is returned to the pool. The connection pool tries to purge itself and remove unused connections when the number of returned connections since the last purge arrives to the number of idle connections that should be discardable (maxidleconnections - maxconnections).</p>
<h3>Installation</h3>
<p>Right now the connection pool does not have a configuration. This package depends on the Garage package.</p>
<p><figure><pre><code class="Smalltalk">Gofer it
	smalltalkhubUser: 'DBXTalk' project: 'Garage-ConnectionPool';
	package: 'Garage-ConnectionPool';
	load.</code></pre><figcaption></figcaption></figure></p>
<h3>Examples</h3>
<p>You can set the max amount of connections. Once you surpass the limit, it will throw an exception.</p>
<p><figure><pre><code class="Smalltalk">pool := GAConnectionPool forConnectionString: Fixture connectionString.
pool maxConnections: 1.
connection := pool getConnection.
self should: [ pool getConnection ] raise: Error.</code></pre><figcaption></figcaption></figure></p>
      	</section>
		<footer class="footer">
          This website is developed using <a href="https://github.com/pillar-markup/pillar-documentation">Pillar</a><br>
          Theme based on tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>
      </div>
    </div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script>
	hljs.initHighlightingOnLoad();
	$("#Garage").addClass('active');
	function transformAnnotatedParagraphs(pClass) {
	    $("p." + pClass).wrap("<div class='alert alert-" + pClass + "' role='alert'/>" );
	};
	transformAnnotatedParagraphs('success');
	transformAnnotatedParagraphs('info');
	transformAnnotatedParagraphs('warning');
	transformAnnotatedParagraphs('danger');
	</script>
    
  </body>
</html>
