<html><head><title>CharacterScanner</title><link rel="stylesheet" type="text/css" href="../files/common.css"/><link rel="stylesheet" type="text/css" href="../files/stcode.css"/><link rel="stylesheet" type="text/css" href="../files/style.css"/><link rel="stylesheet" type="text/css" href="../files/vtip.css"/><script>/*<![CDATA[*/
document.WEBDOC_RELATIVE_DOCUMENT_ROOT ="../..";
document.WEBDOC_PHARO_VERSION ="'4.0'";
/*]]>*/</script><script src="../files/jQuery.js"></script><script src="../files/jQueryUi.js"></script><script src="../files/app.js"></script></head><body onload="onLoad()"><div id="header"><form accept-charset="utf-8" method="get" action="/" class="hidden" id="search"><div class="searchInput">Search: <input accesskey="s" placeholder="search" name="4" id="search_box" size="30" value="" onkeyup="$.ajax({&quot;url&quot;:&quot;/&quot;,&quot;data&quot;:[&quot;1&quot;,&quot;2=&quot;+encodeURIComponent($(&quot;#search_box&quot;).val())].join(&quot;&amp;&quot;)});$(&quot;#searchResults&quot;).load(&quot;/&quot;,&quot;3&quot;)" type="search" class="search"/></div><div id="searchResults"></div><div></div></form></div><div id="content"><h1 class="className">CharacterScanner</h1><dl class="box"><dt>Subclass of: </dt><dd><span class="inheritName"><a class="object_link class_link" target="classView" title="Object (class)" href="../class/Object.html">Object</a></span><ul class="fullTree"><li><a class="object_link class_link" target="classView" title="CharacterScanner (class)" href="../class/CharacterScanner.html">CharacterScanner</a></li><li class="next"><a class="object_link class_link" target="classView" title="ProtoObject (class)" href="../class/ProtoObject.html">ProtoObject</a></li><li class="next"><a class="object_link class_link" target="classView" title="Object (class)" href="../class/Object.html">Object</a></li></ul><a class="inheritanceTree">&oplus;</a></dd></dl><br/><div class="classComment"><h2 class="title">Overview</h2><div class="docString"><p>A <a class="stClassLiteral" href="class/CharacterScanner.html/class/CharacterScanner.html">CharacterScanner</a> holds the state associated with scanning text. Subclasses scan characters for specified purposes, such as computing a <a class="stClassLiteral" href="class/CharacterScanner.html/class/CharacterBlock.html">CharacterBlock</a> or placing characters into Forms.</p><p>Instance Variables alignment:<a href="Integer"></a> destX:<a href="Number"></a> destY:<a href="Number"></a> emphasisCode:<a href="Object"></a> font:<a href="AbstractFont"></a> indentationLevel:<a href="Integer"></a> kern:<a href="Number"></a> lastIndex:<a href="Integer"></a> leftMargin:<a href="Number"></a> line:<a href="TextLine"></a> map:<a href="Array"></a> pendingKernX:<a href="Number"></a> rightMargin:<a href="Number"></a> runStopIndex:<a href="Integer"></a> spaceCount:<a href="Integer"></a> spaceWidth:<a href="Number"></a> stopConditions:<a href="Array"></a> text:<a href="Text"></a> textStyle:<a href="TextStyle"></a> wantsColumnBreaks:<a href="Boolean"></a> xTable:<a href="Array"></a></p><p>alignment - an <a class="stClassLiteral" href="class/CharacterScanner.html/class/Integer.html">Integer</a> encoding the alignment of text</p><p>destX - horizontal position for next character (distance from left of composition area)</p><p>destY - vertical position for next character (distance from top of composition area)</p><p>emphasisCode - an <a class="stClassLiteral" href="class/CharacterScanner.html/class/Integer.html">Integer</a> encoding the current text emphasis to use (bold, italic, ...)</p><p>font - the current font used for measuring/composing/displaying characters</p><p>indentationLevel - an <a class="stClassLiteral" href="class/CharacterScanner.html/class/Integer.html">Integer</a> specifying a number of leading tabs to be inserted at beginning of new lines</p><p>kern - a <a class="stClassLiteral" href="class/CharacterScanner.html/class/Number.html">Number</a> specifying additional horizontal spacing to place between characters (spacing is reduced when kern is negative)</p><p>lastIndex - the <a class="stClassLiteral" href="class/CharacterScanner.html/class/Integer.html">Integer</a> index of next character to be processed in the text</p><p>leftMargin - a <a class="stClassLiteral" href="class/CharacterScanner.html/class/Number.html">Number</a> specifying the distance between left of composition zone and left of first character in the line.</p><p>line - an object holding information about the line currently being displayed (like first and last index in text). Note: this is either a <a class="stClassLiteral" href="class/CharacterScanner.html/class/TextLine.html">TextLine</a> in Morphic, or TextLineInterval for ST80 compatibility</p><p>map - an array mapping character code to glyph position. This is used by primitive 103 only, in case of <a class="stClassLiteral" href="class/CharacterScanner.html/class/ByteString.html">ByteString</a>.</p><p>pendingKernX - a <a class="stClassLiteral" href="class/CharacterScanner.html/class/Number.html">Number</a> to be added to horizontal spacing of next char if ever it is in the same font than previous one. The inner scan loop is interrupted by a change of text run. But some changes won't change the font, so the kerning must be remembered and applied later.</p><p>rightMargin - a <a class="stClassLiteral" href="class/CharacterScanner.html/class/Number.html">Number</a> specifying the distance between right of composition zone and right of last character in the line.</p><p>runStopIndex - the <a class="stClassLiteral" href="class/CharacterScanner.html/class/Integer.html">Integer</a> index of last character in current text run.</p><p>spaceCount - the number of spaces encoutered so far in current line. This is useful for adjusting the spacing in cas of Justified alignment.</p><p>spaceWidth - the width of space character in current font.</p><p>stopConditions - an <a class="stClassLiteral" href="class/CharacterScanner.html/class/Array.html">Array</a> mapping a table of characters codes for which special actions are to be taken. These are typically control characters like carriage return or horizontal tab.</p><p>text - the text to be measured/composed/displayed</p><p>textStyle - an object holding a context for the text style (which set of font to use, which margins, etc...)</p><p>wantsColumnBreaks - a <a class="stClassLiteral" href="class/CharacterScanner.html/class/Boolean.html">Boolean</a> indicating whether some special handling for multiple columns is requested. THIS ONLY MAKES SENSE IN <a class="stClassLiteral" href="class/CharacterScanner.html/class/CompositionScanner.html">CompositionScanner</a> AND SHOULD BE MOVED TO THE SUBCLASS</p><p>xTable - an array mapping character code to glyph x coordinate in form. This is used by primitive 103 only, in case of <a class="stClassLiteral" href="class/CharacterScanner.html/class/ByteString.html">ByteString</a>.</p><p>Implementation note: accelerated <a class="stClassLiteral" href="class/CharacterScanner.html/class/Character.html">Character</a> scanning with primitive 103 requires following order for 5 first instance variables, please don't alter: destX lastIndex xTable map destY</p></div></div><div class="classMethodDetail methodDetail"><h2 class="title">Class Method Details</h2></div><div class="instanceMethodDetail methodDetail"><h2 class="title">Instance Method Details</h2></div></div><script type="text/javascript">/*<![CDATA[*/function onLoad(){};/*]]>*/</script></body></html>